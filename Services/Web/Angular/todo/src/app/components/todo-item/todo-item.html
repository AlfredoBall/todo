<div class="app-todo-item" [class.completed]="completed()" [class.editing]="isEditing()">
    <textarea 
        #textarea 
        [readonly]="!isEditing()" 
        [value]="isEditing() ? editedName() : name()"
        (input)="onTextChange($event)">
    </textarea>
    <div class="button-group">
        <button mat-icon-button color="primary" (click)="onComplete()" [disabled]="isEditing()">
            <mat-icon>{{ completed() ? 'check_box' : 'check_box_outline_blank' }}</mat-icon>
        </button>
        <button mat-icon-button color="accent" (click)="onEdit()" [disabled]="editingItemId() !== null && editingItemId() !== id()">
            <mat-icon>{{ isEditing() ? 'undo' : 'edit' }}</mat-icon>
        </button>
        <button mat-icon-button color="warn" (click)="onDelete()">
            <mat-icon>delete</mat-icon>
        </button>
    </div>
    @if (isEditing()) {
        <button mat-raised-button color="primary" class="save-button" (click)="onSave()" [disabled]="editedName() === name()">
            Save
        </button>
    }
</div>
